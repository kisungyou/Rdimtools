<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Construct Nearest-Neighborhood Graph — aux.graphnbd • Rdimtools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Construct Nearest-Neighborhood Graph — aux.graphnbd"><meta property="og:description" content="Given data, it first computes pairwise distance (method) using one of measures
defined from dist function. Then, type controls how nearest neighborhood
graph should be constructed. Finally, symmetric parameter controls how
nearest neighborhood graph should be symmetrized."><meta property="og:image" content="https://kisungyou.com/Rdimtools/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-163713603-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-163713603-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rdimtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/quick-start.html">Quick Start with Rdimtools</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://twitter.com/kisung_you" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/kisungyou/Rdimtools" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="../mailto:kisungyou@outlook.com">
    <span class="fa fa-envelope"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct Nearest-Neighborhood Graph</h1>
    <small class="dont-index">Source: <a href="https://github.com/kisungyou/Rdimtools/blob/HEAD/R/auxiliary_graphnbd.R" class="external-link"><code>R/auxiliary_graphnbd.R</code></a></small>
    <div class="hidden name"><code>aux_graphnbd.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given data, it first computes pairwise distance (<code>method</code>) using one of measures
defined from <code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></code> function. Then, <code>type</code> controls how nearest neighborhood
graph should be constructed. Finally, <code>symmetric</code> parameter controls how
nearest neighborhood graph should be symmetrized.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">aux.graphnbd</span><span class="op">(</span>
  <span class="va">data</span>,
  method <span class="op">=</span> <span class="st">"euclidean"</span>,
  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"proportion"</span>, <span class="fl">0.1</span><span class="op">)</span>,
  symmetric <span class="op">=</span> <span class="st">"union"</span>,
  pval <span class="op">=</span> <span class="fl">2</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>an \((n\times p)\) data matrix.</p></dd>
<dt>method</dt>
<dd><p>type of distance to be used. See also <code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></code>.</p></dd>
<dt>type</dt>
<dd><p>a defining pattern of neighborhood criterion. One of</p><dl><dt>c("knn", k)</dt>
<dd><p>knn with <code>k</code> a positive integer.</p></dd>

<dt>c("enn", radius)</dt>
<dd><p>enn with a positive radius.</p></dd>

<dt>c("proportion", ratio)</dt>
<dd><p>takes an <code>ratio</code> in (0,1) portion of edges to be connected.</p></dd>


</dl></dd>
<dt>symmetric</dt>
<dd><p>either ``intersect'' or ``union'' for symmetrization, or ``asymmetric''.</p></dd>
<dt>pval</dt>
<dd><p>a \(p\)-norm option for Minkowski distance.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a named list containing</p><dl><dt>mask</dt>
<dd><p>a binary matrix of indicating existence of an edge for each element.</p></dd>

<dt>dist</dt>
<dd><p>corresponding distance matrix. <code>-Inf</code> is returned for non-connecting edges.</p></dd>


</dl></div>
    <div id="nearest-neighbor-nn-search">
    <h2>Nearest Neighbor(NN) search</h2>
    

<p>Our package supports three ways of defining nearest neighborhood. First is
<em>knn</em>, which finds <code>k</code> nearest points and flag them as neighbors.
Second is <em>enn</em> - epsilon nearest neighbor - that connects all the
data poinst within a certain radius. Finally, <em>proportion</em> flag is to
connect proportion-amount of data points sequentially from the nearest to farthest.</p>
    </div>
    <div id="symmetrization">
    <h2>Symmetrization</h2>
    

<p>In many graph setting, it starts from dealing with undirected graphs.
NN search, however, does not necessarily guarantee if symmetric connectivity
would appear or not. There are two easy options for symmetrization;
<code>intersect</code> for connecting two nodes if both of them are
nearest neighbors of each other and <code>union</code> for only either of them to be present.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Kisung You</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"><span class="co">## Generate data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span>
<span class="r-in"><span class="va">X</span> <span class="op">=</span> <span class="fu"><a href="aux_gensamples.html">aux.gensamples</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">100</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Test three different types of neighborhood connectivity</span></span>
<span class="r-in"><span class="va">nn1</span> <span class="op">=</span> <span class="fu">aux.graphnbd</span><span class="op">(</span><span class="va">X</span>,type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"knn"</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span>         <span class="co"># knn with k=20</span></span>
<span class="r-in"><span class="va">nn2</span> <span class="op">=</span> <span class="fu">aux.graphnbd</span><span class="op">(</span><span class="va">X</span>,type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"enn"</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>          <span class="co"># enn with radius = 1</span></span>
<span class="r-in"><span class="va">nn3</span> <span class="op">=</span> <span class="fu">aux.graphnbd</span><span class="op">(</span><span class="va">X</span>,type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"proportion"</span>,<span class="fl">0.4</span><span class="op">)</span><span class="op">)</span> <span class="co"># connecting 40% of edges</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Visualize</span></span>
<span class="r-in"><span class="va">opar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>no.readonly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span>, pty<span class="op">=</span><span class="st">"s"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">nn1</span><span class="op">$</span><span class="va">mask</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span><span class="st">"knn with k=20"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">nn2</span><span class="op">$</span><span class="va">mask</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span><span class="st">"enn with radius=1"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">nn3</span><span class="op">$</span><span class="va">mask</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span><span class="st">"proportion of ratio=0.4"</span><span class="op">)</span></span>
<span class="r-plt img"><img src="aux_graphnbd-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">opar</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># }</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kisung You.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

